{"version":3,"sources":["webpack:///./src/pages/upload/index.vue?1ea2","webpack:///./src/api/upload.js","webpack:///src/pages/upload/index.vue","webpack:///./src/pages/upload/index.vue?448e","webpack:///./src/pages/upload/index.vue","webpack:///./src/pages/upload/index.vue?24ea"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","model","value","callback","$$v","uploadType","expression","_v","handleChange","fileList","url","staticRenderFns","uploadWX","data","config","axios","post","then","res","uploadZFB","name","methods","formData","append","file","raw","headers","cb","watch","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,KAAKC,MAAM,CAACC,MAAOT,EAAc,WAAEU,SAAS,SAAUC,GAAMX,EAAIY,WAAWD,GAAKE,WAAW,eAAe,CAACb,EAAIc,GAAG,UAAUV,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,KAAKC,MAAM,CAACC,MAAOT,EAAc,WAAEU,SAAS,SAAUC,GAAMX,EAAIY,WAAWD,GAAKE,WAAW,eAAe,CAACb,EAAIc,GAAG,YAAY,GAAGV,EAAG,YAAY,CAACG,MAAM,CAAC,YAAYP,EAAIe,aAAa,YAAYf,EAAIgB,SAAS,kBAAiB,EAAM,eAAc,EAAM,OAAShB,EAAIiB,MAAM,CAACb,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,YAAY,CAACP,EAAIc,GAAG,SAAS,IAAI,IACnrBI,EAAkB,G,qBCCf,SAASC,EAASC,EAAMC,GAC7B,OAAOC,IAAMC,KAAK,+BAAgCH,EAAMC,GAAQG,MAAK,SAAAC,GACnE,OAAOA,EAAIL,QAIR,SAASM,EAAUN,EAAMC,GAC9B,OAAOC,IAAMC,KAAK,gCAAiCH,EAAMC,GAAQG,MAAK,SAAAC,GACpE,OAAOA,EAAIL,QCWf,OACEO,KAAM,SACNP,KAFF,WAGI,MAAO,CACLJ,SAAU,GACVJ,WAAY,IACZK,IAAK,KAGTW,QAAS,CACPb,aADJ,SACA,cACA,eACMc,EAASC,OAAO,QAASC,EAAKC,KAE9B,IAAN,GACQC,QAAS,CACP,eAAgB,wBAG1B,4BACMC,EAAGL,EAAUR,GACnB,kBACA,UACU,EAAV,UACY,QAAZ,OACY,KAAZ,YAGU,EAAV,UACY,QAAZ,MACY,KAAZ,aAIA,mBACQ,QAAR,YAIEc,MAAO,IC5DqV,I,wBCQ1VC,EAAY,eACd,EACArC,EACAmB,GACA,EACA,KACA,KACA,MAIa,aAAAkB,E,oECnBf","file":"js/chunk-2caf877d.559392af.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload__wrapper\"},[_c('div',{staticClass:\"upload__select\"},[_c('el-radio',{attrs:{\"label\":\"1\"},model:{value:(_vm.uploadType),callback:function ($$v) {_vm.uploadType=$$v},expression:\"uploadType\"}},[_vm._v(\"微信账单\")]),_c('el-radio',{attrs:{\"label\":\"2\"},model:{value:(_vm.uploadType),callback:function ($$v) {_vm.uploadType=$$v},expression:\"uploadType\"}},[_vm._v(\"支付宝账单\")])],1),_c('el-upload',{attrs:{\"on-change\":_vm.handleChange,\"file-list\":_vm.fileList,\"show-file-list\":false,\"auto-upload\":false,\"action\":_vm.url}},[_c('el-button',{attrs:{\"type\":\"primary\"}},[_vm._v(\"上传\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from \"axios\";\r\n\r\nexport function uploadWX(data, config) {\r\n  return axios.post(\"/account-web/upload/uploadWx\", data, config).then(res => {\r\n    return res.data;\r\n  });\r\n}\r\n\r\nexport function uploadZFB(data, config) {\r\n  return axios.post(\"/account-web/upload/uploadZfb\", data, config).then(res => {\r\n    return res.data;\r\n  });\r\n}","<template>\r\n  <div class=\"upload__wrapper\">\r\n    <div class=\"upload__select\">\r\n      <el-radio v-model=\"uploadType\" label=\"1\">微信账单</el-radio>\r\n      <el-radio v-model=\"uploadType\" label=\"2\">支付宝账单</el-radio>\r\n    </div>\r\n    <el-upload\r\n      :on-change=\"handleChange\"\r\n      :file-list=\"fileList\"\r\n      :show-file-list=\"false\"\r\n      :auto-upload=\"false\"\r\n      :action=\"url\"\r\n    >\r\n      <el-button type=\"primary\">上传</el-button>\r\n    </el-upload>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { uploadWX, uploadZFB } from \"@/api/upload\";\r\n\r\nexport default {\r\n  name: \"upload\",\r\n  data() {\r\n    return {\r\n      fileList: [],\r\n      uploadType: \"1\",\r\n      url: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    handleChange(file) {\r\n      let formData = new FormData();\r\n      formData.append(\"files\", file.raw);\r\n\r\n      const config = {\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        },\r\n      };\r\n      const cb = this.uploadType === \"1\" ? uploadWX : uploadZFB;\r\n      cb(formData, config)\r\n        .then((res) => {\r\n          if (res.type == 0) {\r\n            this.$message({\r\n              message: \"上传成功\",\r\n              type: \"success\",\r\n            });\r\n          } else {\r\n            this.$message({\r\n              message: res.msg,\r\n              type: \"error\",\r\n            });\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n  },\r\n  watch: {},\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.upload__wrapper {\r\n  padding: 16px;\r\n  .upload__select {\r\n    height: 48px;\r\n    line-height: 48px;\r\n  }\r\n  .el-button {\r\n    width: 88px;\r\n    height: 32px;\r\n    line-height: 32px;\r\n    text-align: center;\r\n    padding: 0;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5a20f381&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}